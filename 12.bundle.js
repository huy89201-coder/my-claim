"use strict";(self.webpackChunkmy_claim=self.webpackChunkmy_claim||[]).push([[12],{511:(e,t,a)=>{a.d(t,{OB:()=>l,cB:()=>r,pN:()=>n,RF:()=>s,jp:()=>m});const l={labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:14}}},r=[{label:"IMPERATIF",value:4},{label:"TRES URGENT",value:3},{label:"URGENT",value:2},{label:"MODERE",value:1},{label:"RENSEIGNEMENT",value:5}],n=[{label:"YES",value:"YES"},{label:"NO",value:"NO"}],s=e=>{const t=e?new Date(e):new Date;return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`},m=async e=>{const t=await fetch("https://officience-support.freshdesk.com/api/v2/tickets",{method:"POST",headers:{Authorization:"Basic "+btoa("dPjhocRSM2vHecjDED:x")},body:e});if(t.ok){const e=await t.json();alert("Ticket created successfully with ID: "+e.id)}else alert("Failed to create a ticket. Status: "+t.status)}},8012:(e,t,a)=>{a.r(t),a.d(t,{default:()=>E});var l=a(6540),r=a(8833),n=a(7152),s=a(6370),m=a(6715),c=a(5523),i=a(126),o=a(6280),u=a(1735),p=a(6409),d=(a(9002),a(511));function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},f.apply(null,arguments)}function E(){const[e,t]=(0,l.useState)([]),[a,E]=(0,l.useState)(""),[b,g]=(0,l.useState)(!1),[h,A]=(0,l.useState)();return(0,l.useEffect)((()=>{const e=[...d.cB];e.pop(),A(e)}),[]),l.createElement(r.A,f({},d.OB,{variant:"outlined",className:"form",onFinish:async t=>{const a=(0,d.RF)(t.date),l=new FormData;try{l.append("email",t.email),l.append("subject",t.subject_of_request),l.append("description",t.description_text),l.append("priority",t.timing_of_request),l.append("status","2"),l.append("attachments[]",e[0]),l.append("custom_fields[cf_phone]",t.phone_number),l.append("custom_fields[cf_name]",t.name_of_application),l.append("custom_fields[cf_floor]",t.floor),l.append("custom_fields[cf_residence]",t.residence),l.append("custom_fields[cf_date]",a),await(0,d.jp)(l)}catch(e){console.error("Error creating ticket:",e)}}}),l.createElement("div",{className:"title"},"FICHE DE CONTACT"),l.createElement("div",{className:"form__fields"},l.createElement(n.A,{gutter:12},l.createElement(s.A,{className:"gutter-row",span:12},l.createElement(r.A.Item,{label:"Date",name:"date",rules:[{required:!1,message:"Please input!"}],className:"form-row"},l.createElement(m.A,null))),l.createElement(s.A,{className:"gutter-row",span:12},l.createElement(r.A.Item,{label:"Residence",name:"residence",rules:[{required:!1,message:"Please input!"}],className:"form-row"},l.createElement(c.A,null)))),l.createElement(r.A.Item,{label:"Nom du demandeur",name:"name_of_application",rules:[{required:!1,message:"Please input!"}],className:"form-row"},l.createElement(c.A,null)),l.createElement(r.A.Item,{label:"Batiment",name:"building",rules:[{required:!1,message:"Please input!"}],className:"form-row"},l.createElement(c.A,null)),l.createElement(r.A.Item,{label:"Etage",name:"floor",rules:[{required:!1,message:"Please input!"}],className:"form-row"},l.createElement(i.A,{style:{width:"100%"}})),l.createElement(r.A.Item,{label:"Coordonnees telephonique",name:"phone_number",rules:[{required:!1,message:"Please input!"}],className:"form-row"},l.createElement(c.A,null)),l.createElement(r.A.Item,{label:"Email",name:"email",rules:[{required:!1,message:"Please input!"}],className:"form-row"},l.createElement(c.A,null)),l.createElement(r.A.Item,{label:"Objet de la demande",name:"subject_of_request",rules:[{required:!1,message:"Please input!"}],className:"form-row"},l.createElement(c.A,null)),l.createElement(r.A.Item,{label:"Description",name:"description_text",rules:[{required:!1,message:"Please input!"}],className:"form-row"},l.createElement(c.A.TextArea,null)),l.createElement(r.A.Item,{label:"Temporalite de la demande",name:"timing_of_request",rules:[{required:!1,message:"Please input!"}],className:"form-row"},l.createElement(o.A,{options:h})),l.createElement(r.A.Item,{label:"Attachment",name:"attachment",rules:[{required:!1,message:"Please input!"}],className:"form-row"},l.createElement("input",{type:"file",accept:"image/*",onChange:e=>{const a=e.target.files&&e.target.files;if(a){t(Array.from(a));const e=new FileReader;e.readAsDataURL(a[0]),e.onloadend=()=>{E(e.result)}}},style:{display:"none"},id:"upload-btn"}),l.createElement("label",{htmlFor:"upload-btn",style:{width:"100px",height:"100px",backgroundColor:"#f0f0f0",border:"1px solid #d9d9d9",borderRadius:"4px",display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden",cursor:"pointer"}},a?l.createElement("img",{src:a,alt:"Preview",style:{width:"100%",height:"100%",objectFit:"cover"}}):l.createElement("span",null,"Upload")))),l.createElement("div",{className:"form__actions"},l.createElement(r.A.Item,null,l.createElement(u.Ay,{type:"primary",htmlType:"submit",className:"btn"},"Confirm"))),a&&l.createElement(p.A,{wrapperStyle:{display:"none"},preview:{visible:b,onVisibleChange:e=>g(e),afterOpenChange:e=>!e&&E("")},src:a}))}}}]);