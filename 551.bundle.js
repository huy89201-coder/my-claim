"use strict";(self.webpackChunkmy_claim=self.webpackChunkmy_claim||[]).push([[551],{511:(e,t,a)=>{a.d(t,{OB:()=>l,cB:()=>r,pN:()=>s,RF:()=>n,jp:()=>m});const l={labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:14}}},r=[{label:"IMPERATIF",value:4},{label:"TRES URGENT",value:3},{label:"URGENT",value:2},{label:"MODERE",value:1},{label:"RENSEIGNEMENT",value:5}],s=[{label:"YES",value:"YES"},{label:"NO",value:"NO"}],n=e=>{const t=e?new Date(e):new Date;return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`},m=async e=>{const t=await fetch("https://officience-support.freshdesk.com/api/v2/tickets",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Basic "+btoa("xvclmFW8oqf42XUrMXbT:x")},body:JSON.stringify({...e})});if(t.ok){const e=await t.json();alert("Ticket created successfully with ID: "+e.id)}else alert("Failed to create a ticket. Status: "+t.status)}},6551:(e,t,a)=>{a.r(t),a.d(t,{default:()=>f});var l=a(6540),r=a(598);const s=a(351).A,n=a(6606).A;var m=a(6715),c=a(2066),i=a(126),o=a(6280),u=a(1735),p=(a(9002),a(511));function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},d.apply(null,arguments)}function f(){const[e,t]=(0,l.useState)();return(0,l.useEffect)((()=>{const e=[...p.cB];e.pop(),t(e)}),[]),l.createElement(r.A,d({},p.OB,{variant:"outlined",className:"form",onFinish:async e=>{const t=(0,p.RF)(e.date);try{const a={email:e.email,subject:e.subject_of_request,description:e.description_text,priority:e.timing_of_request,status:2,custom_fields:{cf_phone:e.phone_number,cf_name:e.name_of_application,cf_floor:e.floor?.toString(),cf_residence:e.residence,cf_date:t}};await(0,p.jp)(a)}catch(e){console.error("Error creating ticket:",e)}}}),l.createElement("div",{className:"title"},"FICHE DE CONTACT"),l.createElement("div",{className:"form__fields"},l.createElement(s,{gutter:12},l.createElement(n,{className:"gutter-row",span:12},l.createElement(r.A.Item,{label:"Date",name:"date",rules:[{required:!1,message:"Please input!"}],className:"form-row"},l.createElement(m.A,null))),l.createElement(n,{className:"gutter-row",span:12},l.createElement(r.A.Item,{label:"Residence",name:"residence",rules:[{required:!1,message:"Please input!"}],className:"form-row"},l.createElement(c.A,null)))),l.createElement(r.A.Item,{label:"Nom du demandeur",name:"name_of_application",rules:[{required:!1,message:"Please input!"}],className:"form-row"},l.createElement(c.A,null)),l.createElement(r.A.Item,{label:"Batiment",name:"building",rules:[{required:!1,message:"Please input!"}],className:"form-row"},l.createElement(c.A,null)),l.createElement(r.A.Item,{label:"Etage",name:"floor",rules:[{required:!1,message:"Please input!"}],className:"form-row"},l.createElement(i.A,{style:{width:"100%"}})),l.createElement(r.A.Item,{label:"Coordonnees telephonique",name:"phone_number",rules:[{required:!1,message:"Please input!"}],className:"form-row"},l.createElement(c.A,null)),l.createElement(r.A.Item,{label:"Email",name:"email",rules:[{required:!1,message:"Please input!"}],className:"form-row"},l.createElement(c.A,null)),l.createElement(r.A.Item,{label:"Objet de la demande",name:"subject_of_request",rules:[{required:!1,message:"Please input!"}],className:"form-row"},l.createElement(c.A,null)),l.createElement(r.A.Item,{label:"Description",name:"description_text",rules:[{required:!1,message:"Please input!"}],className:"form-row"},l.createElement(c.A.TextArea,null)),l.createElement(r.A.Item,{label:"Temporalite de la demande",name:"timing_of_request",rules:[{required:!1,message:"Please input!"}],className:"form-row"},l.createElement(o.A,{options:e}))),l.createElement("div",{className:"form__actions"},l.createElement(r.A.Item,null,l.createElement(u.Ay,{type:"primary",htmlType:"submit",className:"btn"},"Confirm"))))}}}]);